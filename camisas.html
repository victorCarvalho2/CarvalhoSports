<!DOCTYPE html>
<html lang="pt-">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carvalho Sport's</title>
    <link rel="stylesheet" href="css/camisas.css">
    <link rel="shortcut icon" href="" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>

</head>

<body>
    <header>
        Carvalho Sport's
        <!-- Navegação -->
        <nav>
            <a id="pagina_inicial" href="inicial.html">Página Inicial</a>
            <a class="chuteiras" href="chuteiras.html">Chuteiras</a>
            <a class="camisas" href="camisas.html">Camisas de Time</a>
            <a class="material" href="material.html">Material Esportivo</a>
            <a class="tenis" href="tenis.html">Tênis Esportivos</a>
            <a class="sair" href="index.php">Sair</a>
        </nav>
    </header>
    <!-- Conteúdo principal -->
    <section>

        <h2>Na Carvalho Sport's, temos:</h2>
        <h3>Todas as Camisas de Time que você precisar.</h3>

    </section>
    <!-- <main> -->
    <!-- Camisa Botafogo -->
    <section>
        <div>
            <img id="camisa_botafogo" src="img/Camisas/botafogo.png" alt="Camisa Botafogo" />
            <img class="camisa_botafogo" src="img/Camisas/botafogo.png" alt="Camisa Botafogo" />
            <img class="camisa_botafogo" src="img/Camisas/botafogo.png" alt="Camisa Botafogo" />
            <img class="camisa_botafogo" src="img/Camisas/botafogo.png" alt="Camisa Botafogo" />
            <img class="camisa_botafogo" src="img/Camisas/botafogo.png" alt="Camisa Botafogo" />
        </div>
        <h2>Camisa Botafogo I 23/24</h2>
        <h3>Disponível por <br> R$ 369,90.</h3>
        <button class="comprar" data-nome="Camisa do Botafogo" data-preco="369.90">Adicionar ao Carrinho</button>
    </section>

    <!-- Camisa Internacional -->
    <section>
        <div>
            <img id="camisa_inter" src="img/Camisas/camisa.jpg" alt="Camisa Internacional" />
            <img class="camisa_inter" src="img/Camisas/camisa.jpg" alt="Camisa Internacional" />
            <img class="camisa_inter" src="img/Camisas/camisa.jpg" alt="Camisa Internacional" />
            <img class="camisa_inter" src="img/Camisas/camisa.jpg" alt="Camisa Internacional" />
            <img class="camisa_inter" src="img/Camisas/camisa.jpg" alt="Camisa Internacional" />
        </div>
        <h2>Camisa Internacional I 2023/2024</h2>
        <h3>Disponível por <br> R$ 349,99.</h3>
        <button class="comprar" data-nome="Camisa Internacional" data-preco="349.99">Adicionar ao Carrinho</button>
    </section>

    <!-- Camisa Palmeiras -->
    <section>
        <div>
            <img id="camisa_palmeiras" src="img/Camisas/camisaPalmeiras.webp" alt="Camisa Palmeiras" />
            <img class="camisa_palmeiras" src="img/Camisas/camisaPalmeiras.webp" alt="Camisa Palmeiras" />
            <img class="camisa_palmeiras" src="img/Camisas/camisaPalmeiras.webp" alt="Camisa Palmeiras" />
            <img class="camisa_palmeiras" src="img/Camisas/camisaPalmeiras.webp" alt="Camisa Palmeiras" />
            <img class="camisa_palmeiras" src="img/Camisas/camisaPalmeiras.webp" alt="Camisa Palmeiras" />
        </div>
        <h2>Camisa Palmeiras I 2023/2024</h2>
        <h3>Disponível por <br> R$ 349,99.</h3>
        <button class="comprar" data-nome="Camisa Palmeiras" data-preco="349.99">Adicionar ao Carrinho</button>
    </section>

    <!-- Camisa Vasco -->
    <section>
        <div>
            <img id="camisa_vasco" src="img/Camisas/camisaVasco.webp" alt="Camisa Vasco" />
            <img class="camisa_vasco" src="img/Camisas/camisaVasco.webp" alt="Camisa Vasco" />
            <img class="camisa_vasco" src="img/Camisas/camisaVasco.webp" alt="Camisa Vasco" />
            <img class="camisa_vasco" src="img/Camisas/camisaVasco.webp" alt="Camisa Vasco" />
            <img class="camisa_vasco" src="img/Camisas/camisaVasco.webp" alt="Camisa Vasco" />
        </div>
        <h2>Camisa Vasco II 2023/2024</h2>
        <h3>Disponível por <br> R$ 249,99.</h3>
        <button class="comprar" data-nome="Camisa Vasco II " data-preco="249.99">Adicionar ao Carrinho</button>
    </section>

    <!-- Camisa São Paulo -->
    <section>
        <div>
            <img id="camisa_sao_paulo" src="img/Camisas/camisaSp.webp" alt="Camisa São Paulo" />
            <imgc class="camisa_sao_paulo" src="img/Camisas/camisaSp.webp" alt="Camisa São Paulo" />
            <img class="camisa_sao_paulo" src="img/Camisas/camisaSp.webp" alt="Camisa São Paulo" />
            <img class="camisa_sao_paulo" src="img/Camisas/camisaSp.webp" alt="Camisa São Paulo" />
            <img class="camisa_sao_paulo" src="img/Camisas/camisaSp.webp" alt="Camisa São Paulo" />
            <img class="camisa_sao_paulo" src="img/Camisas/camisaSp.webp" alt="Camisa São Paulo" />
        </div>
        <h2>Camisa São Paulo I 2023/2024</h2>
        <h3>Disponível por <br> R$ 349,99.</h3>
        <button class="comprar" data-nome="Camisa São Paulo" data-preco="489.99">Adicionar ao Carrinho</button>
    </section>

    <!-- SSSSSSSSSSSCCCCCCCCCCCCCCCCCCRRRRRRRRRRRRRRRRIIIIIIIIIIIIIIIIIIIIIPPPPPPPPPPPPPPPTTTTTTTTTTTTTTTTTT'S -->


    <!-- Carrinho -->
  <div class="carrinho">
    <h3>Carrinho de Compras</h3>
    <ul id="itensCarrinho"></ul>
    <p class="total">Total: R$ 0,00</p>
    <button id="finalizarCompra">Finalizar Compra</button>
    <div id="qrcode" style="margin-top: 20px;"></div>
  </div>

  <script>
    let carrinho = [];

    function atualizarCarrinho() {
      const carrinhoUl = document.getElementById("itensCarrinho");
      const total = document.querySelector(".total");
      carrinhoUl.innerHTML = '';
      let totalCarrinho = 0;

      carrinho.forEach((item, index) => {
        const li = document.createElement("li");
        li.innerHTML = `${item.nome} - R$ ${item.preco.toFixed(2)} <button onclick="removerItem(${index})">Remover</button>`;
        carrinhoUl.appendChild(li);
        totalCarrinho += item.preco;
      });

      total.innerHTML = `Total: R$ ${totalCarrinho.toFixed(2)}`;
    }

    function adicionarCarrinho(event) {
      const nome = event.target.getAttribute("data-nome");
      const preco = parseFloat(event.target.getAttribute("data-preco"));
      carrinho.push({ nome, preco });
      atualizarCarrinho();
      alert(`✅ "${nome}" foi adicionado ao carrinho!`);
    }

    function removerItem(index) {
      carrinho.splice(index, 1);
      atualizarCarrinho();
    }

    document.querySelectorAll(".comprar").forEach(button => {
      button.addEventListener("click", adicionarCarrinho);
    });

    document.getElementById("finalizarCompra").addEventListener("click", () => {
      if (carrinho.length === 0) {
        alert("Seu carrinho está vazio.");
        return;
      }

      const totalCompra = carrinho.reduce((acc, item) => acc + item.preco, 0);
      const chavePix = "victor@gmail.com"; // SUBSTITUA PELA SUA CHAVE PIX REAL
      const nomeLoja = "Carvalho Sports";
      const cidade = "Duque de Caxias";
      const valor = totalCompra.toFixed(2);

      const payload = `00020126580014BR.GOV.BCB.PIX0136${chavePix.length.toString().padStart(2, '0')}${chavePix}
52040000
5303986
540${valor.length}${valor}
5802BR
5913${nomeLoja.padEnd(13)}
6011${cidade}
62070503***6304`.replace(/\s/g, '');

      function crc16(payload) {
        let polinomio = 0x1021;
        let resultado = 0xFFFF;
        for (let i = 0; i < payload.length; i++) {
          resultado ^= payload.charCodeAt(i) << 8;
          for (let j = 0; j < 8; j++) {
            if ((resultado <<= 1) & 0x10000) {
              resultado ^= polinomio;
            }
            resultado &= 0xFFFF;
          }
        }
        return resultado.toString(16).toUpperCase().padStart(4, '0');
      }

      const payloadCompleto = payload + crc16(payload);

      const qrCodeDiv = document.getElementById("qrcode");
      qrCodeDiv.innerHTML = "";
      QRCode.toCanvas(payloadCompleto, { width: 256 }, function (err, canvas) {
        if (err) {
          alert("Erro ao gerar QR Code");
          return;
        }
        qrCodeDiv.appendChild(canvas);
      });

      alert("✅ Compra iniciada! Escaneie o QR Code para pagar via PIX.");
    });
    
  </script>

</body>

</html> 