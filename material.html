<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/material.css">
    <link rel="shortcut icon" href="" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <title>Carvalho Sport's</title>
</head>

<body>
    <header>
        Carvalho Sport's
    </header>
        <nav>
            <a id="pagina_inicial" href="inicial.html" target="_self">Pagina Inicial</a>
            <a class="chuteiras" href="chuteiras.html" target="_self">Chuteiras</a>
            <a class="camisas" href="camisas.html" target="_self">Camisas de Time</a>
            <a class="material " href="material.html" target="_self">Material Esportivo</a>
            <a class="tenis" href="tenis.html" target="_self">Tenis Esportivos</a>
            <a class="sair" href="index.php">Sair</a>
        </nav>

    <section>
        <h2>Na Carvalho Sport's, temos:</h2>
        <h3>Todos os Tipos de Material Esportivo que você precisar.</h3>
    </section>
    <section>
        <div>
            <img id="garrafa_botafogo" src="img/materialSport/157486-500-auto.webp" alt="Garrafa Térmica do Botafogo">
            <img class="garrafa_botafogo" src="img/materialSport/157486-500-auto.webp"
                alt="Garrafa Térmica do Botafogo">
            <img class="garrafa_botafogo" src="img/materialSport/157486-500-auto.webp"
                alt="Garrafa Térmica do Botafogo">
            <img class="garrafa_botafogo" src="img/materialSport/157486-500-auto.webp"
                alt="Garrafa Térmica do Botafogo">
            <img class="garrafa_botafogo" src="img/materialSport/157486-500-auto.webp"
                alt="Garrafa Térmica do Botafogo">
        </div>
        <h2>Garrafa Térmica do Botafogo</h2>
        <h3>Disponível por: <br> R$ 130,00</h3>
        <button class="comprar"  id="comprarMobile" data-nome="Garrafa Térmica do Botafogo" data-preco="130.00">Adicionar ao
            Carrinho</button>
    </section>

    <section>
        <div>
            <img id="copoPalmeiras" src="img/materialSport/copoPalmeiras.webp" alt="Copo Térmico do Palmeiras">
            <img class="copoPalmeiras" src="img/materialSport/copoPalmeiras.webp" alt="Copo Térmico do Palmeiras">
            <img class="copoPalmeiras" src="img/materialSport/copoPalmeiras.webp" alt="Copo Térmico do Palmeiras">
            <img class="copoPalmeiras" src="img/materialSport/copoPalmeiras.webp" alt="Copo Térmico do Palmeiras">
            <img class="copoPalmeiras" src="img/materialSport/copoPalmeiras.webp" alt="Copo Térmico do Palmeiras">
        </div>
        <h2>Copo Térmico do Palmeiras</h2>
        <h3>Disponível por: <br> R$ 99,00</h3>
        <button class="comprar"  id="comprarMobile" data-nome="Copo Térmico do Palmeiras" data-preco="99.00">Adicionar ao Carrinho</button>
    </section>

    <section>
        <div>
            <img id="garrafa_corinthians" src="img/materialSport/garrafaCorinthias.webp" alt="Garrafa do Corinthians">
            <img class="garrafa_corinthians" src="img/materialSport/garrafaCorinthias.webp"
                alt="Garrafa do Corinthians">
            <img class="garrafa_corinthians" src="img/materialSport/garrafaCorinthias.webp"
                alt="Garrafa do Corinthians">
            <img class="garrafa_corinthians" src="img/materialSport/garrafaCorinthias.webp"
                alt="Garrafa do Corinthians">
            <img class="garrafa_corinthians" src="img/materialSport/garrafaCorinthias.webp"
                alt="Garrafa do Corinthians">
        </div>
        <h2>Garrafa do Corinthians</h2>
        <h3>Disponível por: <br>R$ 79,99</h3>
        <button class="comprar"  id="comprarMobile" data-nome="Garrafa do Corinthians" data-preco="79.99">Adicionar ao Carrinho</button>
    </section>

    <section>
        <div>
            <img id="bolsa_botafogo" src="img/materialSport/bolsaBotafogo.png" alt="Bolsa do Botafogo">
            <img class="bolsa_botafogo" src="img/materialSport/bolsaBotafogo.png" alt="Bolsa do Botafogo">
            <img class="bolsa_botafogo" src="img/materialSport/bolsaBotafogo.png" alt="Bolsa do Botafogo">
            <img class="bolsa_botafogo" src="img/materialSport/bolsaBotafogo.png" alt="Bolsa do Botafogo">
            <img class="bolsa_botafogo" src="img/materialSport/bolsaBotafogo.png" alt="Bolsa do Botafogo">
        </div>
        <h2>Bolsa do Botafogo</h2>
        <h3>Disponível por: <br> R$ 99,99</h3>
        <button class="comprar"  id="comprarMobile" data-nome="Bolsa do Botafogo" data-preco="99.99">Adicionar ao Carrinho</button>
    </section>
    <section>
        <div>
            <img id="garrafa_botafogo" src="img/materialSport/157486-500-auto.webp" alt="Garrafa Térmica do Botafogo">
            <img class="garrafa_botafogo" src="img/materialSport/157486-500-auto.webp"
                alt="Garrafa Térmica do Botafogo">
            <img class="garrafa_botafogo" src="img/materialSport/157486-500-auto.webp"
                alt="Garrafa Térmica do Botafogo">
            <img class="garrafa_botafogo" src="img/materialSport/157486-500-auto.webp"
                alt="Garrafa Térmica do Botafogo">
            <img class="garrafa_botafogo" src="img/materialSport/157486-500-auto.webp"
                alt="Garrafa Térmica do Botafogo">
        </div>
        <h2>Garrafa Térmica do Botafogo</h2>
        <h3>Disponível por: <br> R$ 130,00</h3>
        <button class="comprar"  id="comprarMobile" data-nome="Garrafa Térmica do Botafogo" data-preco="130.00">Adicionar ao
            Carrinho</button>
    </section>

    <section>
        <div>
            <img id="copoPalmeiras" src="img/materialSport/copoPalmeiras.webp" alt="Copo Térmico do Palmeiras">
            <img class="copoPalmeiras" src="img/materialSport/copoPalmeiras.webp" alt="Copo Térmico do Palmeiras">
            <img class="copoPalmeiras" src="img/materialSport/copoPalmeiras.webp" alt="Copo Térmico do Palmeiras">
            <img class="copoPalmeiras" src="img/materialSport/copoPalmeiras.webp" alt="Copo Térmico do Palmeiras">
            <img class="copoPalmeiras" src="img/materialSport/copoPalmeiras.webp" alt="Copo Térmico do Palmeiras">
        </div>
        <h2>Copo Térmico do Palmeiras</h2>
        <h3>Disponível por: <br> R$ 99,00</h3>
        <button class="comprar"  id="comprarMobile" data-nome="Copo Térmico do Palmeiras" data-preco="99.00">Adicionar ao Carrinho</button>
    </section>

    <section>
        <div>
            <img id="garrafa_corinthians" src="img/materialSport/garrafaCorinthias.webp" alt="Garrafa do Corinthians">
            <img class="garrafa_corinthians" src="img/materialSport/garrafaCorinthias.webp"
                alt="Garrafa do Corinthians">
            <img class="garrafa_corinthians" src="img/materialSport/garrafaCorinthias.webp"
                alt="Garrafa do Corinthians">
            <img class="garrafa_corinthians" src="img/materialSport/garrafaCorinthias.webp"
                alt="Garrafa do Corinthians">
            <img class="garrafa_corinthians" src="img/materialSport/garrafaCorinthias.webp"
                alt="Garrafa do Corinthians">
        </div>
        <h2>Garrafa do Corinthians</h2>
        <h3>Disponível por: <br>R$ 79,99</h3>
        <button class="comprar"  id="comprarMobile" data-nome="Garrafa do Corinthians" data-preco="79.99">Adicionar ao Carrinho</button>
    </section>

    <section>
        <div>
            <img id="bolsa_botafogo" src="img/materialSport/bolsaBotafogo.png" alt="Bolsa do Botafogo">
            <img class="bolsa_botafogo" src="img/materialSport/bolsaBotafogo.png" alt="Bolsa do Botafogo">
            <img class="bolsa_botafogo" src="img/materialSport/bolsaBotafogo.png" alt="Bolsa do Botafogo">
            <img class="bolsa_botafogo" src="img/materialSport/bolsaBotafogo.png" alt="Bolsa do Botafogo">
            <img class="bolsa_botafogo" src="img/materialSport/bolsaBotafogo.png" alt="Bolsa do Botafogo">
        </div>
        <h2>Bolsa do Botafogo</h2>
        <h3>Disponível por: <br> R$ 99,99</h3>
        <button class="comprar"  id="comprarMobile" data-nome="Bolsa do Botafogo" data-preco="99.99">Adicionar ao Carrinho</button>
    </section>








    <!-- SSSSSSSSSSSCCCCCCCCCCCCCCCCCCRRRRRRRRRRRRRRRRIIIIIIIIIIIIIIIIIIIIIPPPPPPPPPPPPPPPTTTTTTTTTTTTTTTTTT'S -->

    <!-- Carrinho -->
    <div class="carrinho">
        <h3>Carrinho de Compras</h3>
        <ul id="itensCarrinho"></ul>
        <p class="total">Total: R$ 0,00</p>
        <button id="finalizarCompra" class="finalizarMobile">Finalizar Compra</button>
        <div id="qrcode" style="margin-top: 20px;"></div>
    </div>

    <script>
        let carrinho = [];

        function atualizarCarrinho() {
            const carrinhoUl = document.getElementById("itensCarrinho");
            const total = document.querySelector(".total");
            carrinhoUl.innerHTML = '';
            let totalCarrinho = 0;

            carrinho.forEach((item, index) => {
                const li = document.createElement("li");
                li.innerHTML = `${item.nome} - R$ ${item.preco.toFixed(2)} <button onclick="removerItem(${index})">Remover</button>`;
                carrinhoUl.appendChild(li);
                totalCarrinho += item.preco;
            });

            total.innerHTML = `Total: R$ ${totalCarrinho.toFixed(2)}`;
        }

        function adicionarCarrinho(event) {
            const nome = event.target.getAttribute("data-nome");
            const preco = parseFloat(event.target.getAttribute("data-preco"));
            carrinho.push({ nome, preco });
            atualizarCarrinho();
            alert(`✅ "${nome}" foi adicionado ao carrinho!`);
        }

        function removerItem(index) {
            carrinho.splice(index, 1);
            atualizarCarrinho();
        }

        document.querySelectorAll(".comprar").forEach(button => {
            button.addEventListener("click", adicionarCarrinho);
        });

        document.getElementById("finalizarCompra").addEventListener("click", () => {
            if (carrinho.length === 0) {
                alert("Seu carrinho está vazio.");
                return;
            }

            const totalCompra = carrinho.reduce((acc, item) => acc + item.preco, 0);
            const chavePix = "victor@gmail.com"; // SUBSTITUA PELA SUA CHAVE PIX REAL
            const nomeLoja = "Carvalho Sports";
            const cidade = "Duque de Caxias";
            const valor = totalCompra.toFixed(2);

            const payload = `00020126580014BR.GOV.BCB.PIX0136${chavePix.length.toString().padStart(2, '0')}${chavePix}
52040000
5303986
540${valor.length}${valor}
5802BR
5913${nomeLoja.padEnd(13)}
6011${cidade}
62070503***6304`.replace(/\s/g, '');

            function crc16(payload) {
                let polinomio = 0x1021;
                let resultado = 0xFFFF;
                for (let i = 0; i < payload.length; i++) {
                    resultado ^= payload.charCodeAt(i) << 8;
                    for (let j = 0; j < 8; j++) {
                        if ((resultado <<= 1) & 0x10000) {
                            resultado ^= polinomio;
                        }
                        resultado &= 0xFFFF;
                    }
                }
                return resultado.toString(16).toUpperCase().padStart(4, '0');
            }

            const payloadCompleto = payload + crc16(payload);

            const qrCodeDiv = document.getElementById("qrcode");
            qrCodeDiv.innerHTML = "";
            QRCode.toCanvas(payloadCompleto, { width: 256 }, function (err, canvas) {
                if (err) {
                    alert("Erro ao gerar QR Code");
                    return;
                }
                qrCodeDiv.appendChild(canvas);
            });

            alert("✅ Compra iniciada! Escaneie o QR Code para pagar via PIX.");
        });
    </script>
</body>
</html>